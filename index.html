<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <style>
    #chartdiv, #chartdiv1, #chartdiv2, #chartdiv3, #chartdiv4 {
      width: 100%;
      height: 500px;
    }
  </style>
</head>
<body>
  <div id="chartdiv"></div>
  <hr/><hr/>
  <div id="chartdiv1"></div>
  <hr/><hr/>
  <div id="chartdiv2"></div>
  <hr/><hr/>
  <div id="chartdiv3"></div>
  <hr/><hr/>
  <div id="chartdiv4"></div>

  <!-- مكتبات amCharts -->
  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/geodata/usaLow.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>

  <script>
    // ======== الخريطة الأولى (Globe ثابت) ========
    am5.ready(function() {
      var root = am5.Root.new("chartdiv");
      root.setThemes([ am5themes_Animated.new(root) ]);
      var chart = root.container.children.push(am5map.MapChart.new(root, {
        panX: "none",
        panY: "none",
        projection: am5map.geoOrthographic()
      }));

      var polygonSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {
        geoJSON: am5geodata_worldLow
      }));

      polygonSeries.mapPolygons.template.setAll({
        tooltipText: "{name}",
        interactive: true
      });

      chart.appear(1000, 100);
    });

    // ======== الخريطة الثانية (World + USA ثابتة) ========
    am5.ready(function() {
      var root = am5.Root.new("chartdiv1");
      root.setThemes([ am5themes_Animated.new(root) ]);

      var chart = root.container.children.push(am5map.MapChart.new(root, {
        panX: "none",
        panY: "none",
        projection: am5map.geoMercator()
      }));

      var polygonSeries1 = chart.series.push(am5map.MapPolygonSeries.new(root, {
        geoJSON: am5geodata_worldLow,
        exclude: ["AQ"]
      }));

      polygonSeries1.mapPolygons.template.setAll({
        tooltipText: "{name}",
        interactive: true
      });

      var polygonSeriesUS1 = chart.series.push(am5map.MapPolygonSeries.new(root, {
        geoJSON: am5geodata_usaLow
      }));

      polygonSeriesUS1.mapPolygons.template.setAll({
        tooltipText: "{name}",
        interactive: true
      });

      chart.appear(1000, 100);
    });

    // ======== الخريطة الثالثة (Pacific-centered ثابتة) ========
    am5.ready(function() {
      var root = am5.Root.new("chartdiv2");
      root.setThemes([ am5themes_Animated.new(root) ]);

      var chart = root.container.children.push(am5map.MapChart.new(root, {
        panX: "none",
        panY: "none",
        projection: am5map.geoNaturalEarth1(),
        rotationX: -154.8
      }));

      var polygonSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {
        geoJSON: am5geodata_worldLow
      }));

      polygonSeries.mapPolygons.template.setAll({
        tooltipText: "{name}",
        fillOpacity: 0.8
      });

      chart.appear(1000, 100);
    });

    // ======== الخريطة الرابعة (Markers ثابتة) ========
    am5.ready(function() {
      var root = am5.Root.new("chartdiv3");
      root.setThemes([ am5themes_Animated.new(root) ]);

      var chart = root.container.children.push(am5map.MapChart.new(root, {
        panX: "none",
        panY: "none",
        projection: am5map.geoMercator()
      }));

      var polygonSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {
        geoJSON: am5geodata_worldLow
      }));

      var pointSeries = chart.series.push(am5map.MapPointSeries.new(root, {}));
      var cities = [
        { title: "Paris", latitude: 48.8567, longitude: 2.351 },
        { title: "Tokyo", latitude: 35.6785, longitude: 139.6823 },
        { title: "Washington", latitude: 38.8921, longitude: -77.0241 }
      ];

      for (var i = 0; i < cities.length; i++) {
        var city = cities[i];
        pointSeries.data.push({
          geometry: { type: "Point", coordinates: [city.longitude, city.latitude] },
          title: city.title
        });
      }
      chart.appear(1000, 100);
    });

    // ======== الخريطة الخامسة (Globe تدور تلقائياً) ========
    am5.ready(function() {
      var root = am5.Root.new("chartdiv4");
      root.setThemes([ am5themes_Animated.new(root) ]);

      var chart = root.container.children.push(am5map.MapChart.new(root, {
        panX: "none",
        panY: "none",
        projection: am5map.geoOrthographic()
      }));

      var polygonSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {
        geoJSON: am5geodata_worldLow
      }));

      polygonSeries.mapPolygons.template.setAll({
        tooltipText: "{name}",
        interactive: true
      });

      // دوران تلقائي
      chart.animate({
        key: "rotationX",
        from: 0,
        to: 360,
        duration: 30000,
        loops: Infinity
      });

      chart.appear(1000, 100);
    });
  </script>
</body>
</html>